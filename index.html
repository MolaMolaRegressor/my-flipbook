<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        /* Стили библиотеки */
        .fb-container { position: relative; width: 100%; height: 100%; }
        .fb-viewport { position: absolute; width: 100%; height: 100%; perspective: 2000px; }
        .fb-page { position: absolute; width: 50%; height: 100%; transform-style: preserve-3d; backface-visibility: hidden; }
        .fb-page-front, .fb-page-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; }
        .fb-page-front { transform: rotateY(0deg); }
        .fb-page-back { transform: rotateY(180deg); }
        .fb-page img { width: 100%; height: 100%; object-fit: contain; }
        
        /* Наши стили */
        body, html { margin: 0; padding: 0; height: 100%; background: white; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        #flipbook-container { width: 90vw; max-width: 1000px; height: 75vh; position: relative; }
        #flipbook { width: 100%; height: 100%; box-shadow: 0 3px 10px rgba(0,0,0,0.1); }
        .nav-btn { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.9); border: 1px solid #ddd; width: 50px; height: 50px; border-radius: 50%; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 100; transition: all 0.2s; user-select: none; }
        .nav-btn:hover { background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.15); }
        #prev-btn { left: -70px; }
        #next-btn { right: -70px; }
        @media (max-width: 1200px) { #prev-btn { left: 10px; } #next-btn { right: 10px; } .nav-btn { background: rgba(255,255,255,0.8); width: 40px; height: 40px; } }
    </style>
</head>
<body>
    <div id="flipbook-container">
        <button class="nav-btn" id="prev-btn">‹</button>
        <div id="flipbook">
            <div class="fb-container">
                <div class="fb-viewport" id="fb-viewport"></div>
            </div>
        </div>
        <button class="nav-btn" id="next-btn">›</button>
    </div>

    <script>
        // ПРОСТАЯ БИБЛИОТЕКА ФЛИПБУКА (встроена в код)
        class SimpleFlipBook {
            constructor(options) {
                this.container = document.querySelector(options.container);
                this.pages = options.pages || [];
                this.currentPage = options.startPage || 0;
                this.pageWidth = options.pageWidth || 800;
                this.pageHeight = options.pageHeight || 600;
                this.viewport = document.getElementById('fb-viewport');
                this.init();
            }
            
            init() {
                this.renderPages();
                this.goToPage(this.currentPage);
                this.setupEvents();
            }
            
            renderPages() {
                this.viewport.innerHTML = '';
                for(let i = 0; i < this.pages.length; i++) {
                    const page = document.createElement('div');
                    page.className = 'fb-page';
                    page.style.width = `${this.pageWidth}px`;
                    page.style.height = `${this.pageHeight}px`;
                    
                    const front = document.createElement('div');
                    front.className = 'fb-page-front';
                    const frontImg = document.createElement('img');
                    frontImg.src = this.pages[i];
                    frontImg.alt = `Страница ${i + 1}`;
                    front.appendChild(frontImg);
                    
                    page.appendChild(front);
                    this.viewport.appendChild(page);
                }
            }
            
            goToPage(pageIndex) {
                if(pageIndex < 0 || pageIndex >= this.pages.length) return;
                this.currentPage = pageIndex;
                const offset = -pageIndex * this.pageWidth;
                this.viewport.style.transform = `translateX(${offset}px)`;
            }
            
            next() {
                if(this.currentPage < this.pages.length - 1) {
                    this.goToPage(this.currentPage + 1);
                }
            }
            
            previous() {
                if(this.currentPage > 0) {
                    this.goToPage(this.currentPage - 1);
                }
            }
            
            setupEvents() {
                // Свайп для мобильных
                let startX = 0;
                this.viewport.addEventListener('touchstart', (e) => {
                    startX = e.touches[0].clientX;
                });
                
                this.viewport.addEventListener('touchend', (e) => {
                    const endX = e.changedTouches[0].clientX;
                    const diff = startX - endX;
                    if(Math.abs(diff) > 50) {
                        if(diff > 0) this.next();
                        else this.previous();
                    }
                });
            }
        }
        
        // ИНИЦИАЛИЗАЦИЯ
        document.addEventListener('DOMContentLoaded', function() {
            // УКАЖИТЕ ВАШИ ССЫЛКИ НА КАРТИНКИ!
            const flipbook = new SimpleFlipBook({
                container: '#flipbook',
                pages: [
                    'https://molamolaregressor.github.io/my-flipbook/01.jpg',
                    'https://molamolaregressor.github.io/my-flipbook/02.jpg',
                    'https://molamolaregressor.github.io/my-flipbook/03.jpg'
                ],
                pageWidth: 900,
                pageHeight: 600,
                startPage: 0
            });
            
            // Кнопки управления
            document.getElementById('next-btn').addEventListener('click', () => flipbook.next());
            document.getElementById('prev-btn').addEventListener('click', () => flipbook.previous());
            
            // Управление клавиатурой
            document.addEventListener('keydown', (event) => {
                if(event.key === 'ArrowRight') flipbook.next();
                if(event.key === 'ArrowLeft') flipbook.previous();
            });
            
            console.log('Флипбук загружен! Страниц:', flipbook.pages.length);
        });
    </script>
</body>
</html>
